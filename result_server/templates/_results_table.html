<!-- templates/_results_table.html -->
<table id="resultsTable">
    <thead>
    <tr>
        {% for col_name, _ in columns %}
           {% if col_name in ["Timestamp", "SYSTEM", "CODE", "FOM", "FOM version", "Exp", "Nodes", "JSON", "PA Data"] %}
              <th>
                {% if col_name == "Timestamp" %}
                  <span class="tooltip tooltip-left">{{ col_name }}
                    <span class="tooltiptext">Date and time when benchmark execution completed and results were automatically submitted to server</span>
                  </span>
                {% elif col_name == "SYSTEM" %}
                  <span class="tooltip">{{ col_name }}
                    <span class="tooltiptext">Computing system name</span>
                  </span>
                {% elif col_name == "FOM" %}
                  <span class="tooltip">{{ col_name }}
                    <span class="tooltiptext">Figure of Merit - Benchmark performance metric value, typically elapsed time in seconds for main section</span>
                  </span>
                {% elif col_name == "Exp" %}
                  <span class="tooltip">{{ col_name }}
                    <span class="tooltiptext">Experimental conditions and parameter settings</span>
                  </span>
                {% elif col_name == "JSON" %}
                  <span class="tooltip tooltip-right">{{ col_name }}
                    <span class="tooltiptext">Detailed benchmark results in JSON format</span>
                  </span>
                {% elif col_name == "FOM version" %}
                  <span class="tooltip">{{ col_name }}
                    <span class="tooltiptext">Version identifier for the FOM measurement section - helps identify which code region was measured when users modify the timing boundaries</span>
                  </span>
                {% elif col_name == "PA Data" %}
                  <span class="tooltip tooltip-right">{{ col_name }}
                    <span class="tooltiptext">Performance Analysis data archive (detailed profiling data)</span>
                  </span>
                {% else %}
                  {{ col_name }}
                {% endif %}
              </th>
           {% endif %}
        {% endfor %}
    </tr>
    </thead>
    <tbody>
    {% for row in rows %}
        <tr>
            {% for _, key in columns %}
                {% if key in ["json_link", "data_link"] %}
                    <td>
                        {% if row[key] %}
                            <a href="{{ row[key] }}">
                                {{ "json" if key == "json_link" else "data" }}
                            </a>
                        {% else %}
                            -
                        {% endif %}
                    </td>
                {% elif key == "system" %}
                    <td>
                        <span class="tooltip">{{ row[key] }}
                            <span class="tooltiptext">
                                {% set sys_info = systems_info.get(row[key]) %}
                                {% if sys_info %}
                                    <strong>{{ sys_info.name }}</strong><br>
                                    CPU: {{ sys_info.cpu_name }}<br>
                                    CPU/node: {{ sys_info.cpu_per_node }}<br>
                                    CPU Cores: {{ sys_info.cpu_cores }}<br>
                                    {% if sys_info.gpu_name != '-' %}GPU: {{ sys_info.gpu_name }}<br>
                                    GPU/node: {{ sys_info.gpu_per_node }}<br>{% endif %}
                                    Memory: {{ sys_info.memory }}
                                {% else %}
                                    {{ row[key] }} system details
                                {% endif %}
                            </span>
                        </span>
                    </td>
                {% elif key in ["timestamp", "code", "fom", "fom_version", "exp", "nodes"] %}
                    <td>{{ row[key] }}</td>
                {% endif %}
            {% endfor %}
        </tr>
    {% endfor %}
    </tbody>
</table>
